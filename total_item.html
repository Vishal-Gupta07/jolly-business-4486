<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Total Item</title>
    <script src="https://kit.fontawesome.com/4ca93ca64a.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="./admin.css">

</head>
<body>
   

    <section id="menu">

        <div class="logo">
           <img src="" alt="">
           <h3>WeShop</h3>
        </div>
        <div class="item">
          <li><a class="dashboard" href="./admin_page.html">Dashboard</a></li>
          <li></i><a href="#">Total Item</a></li>
          <li></i><a href="./user.html">Total User</a></li>
          <li></i><a href="./new_product.html">Add New Product</a></li>
          <li><a href="#">Order Detail</a></li>
          <li><a href="#">Devilered Product</a></li>
          <li><a href="#">User Management</a></li>
       

        </div>

    </section>

    <section id="interface">
    
        <div class="navigation">
            <div class="nav1">
                <div class="search">
                    <input type="text" placeholder="Search">
                </div>
            </div>
            

        </div>
        <h1 class="total-item">Total Item</h1>

        <div id="item-container">


        </div>


    </section>
    
</body>
</html>
<script>

    window.addEventListener("load",()=>{
        fetchData()
    })


    let fetchURL = "https://project-database-h3eo.vercel.app/products"

    let mainSection = document.getElementById("item-container")

    async function fetchData(){

        try {
            let resolve = await fetch(fetchURL,{
                method : "GET",
                headers : {
                    "Content-Type" : "application/json"
                }
            })
            let data = await resolve.json()
            console.log(data)
            renderCardList(data)
            
        } catch (error) {
            alert("something is wrong")
        }
    }

  
    function renderCardList(cardData){

        mainSection.innerHTML = `
        
         <div class = "cardList">
           ${cardData.map((ele)=>{
              
            let image = ele.image_url
            let name = ele.name
            let price = ele.price
            
            return getAsCard(image, name, price)
             }).join("")
           }        
         </div
    
        `
    }


    function getAsCard(image, name, price){

        return `
        
         <div class = "card">
            <div class = "card-img">
                <img src = ${image} />
            </div> 
            <div class = "card-body">
                 <h3>${name}</h3> 
                 <h4>${price}</h4> 
                 <button>Remove</button>
            </div>          
         </div>
         
        `
    }


</script>

