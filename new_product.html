<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Product</title>
    <script src="https://kit.fontawesome.com/4ca93ca64a.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="./admin.css">

</head>
<body>
   

    <section id="menu">

        <div class="logo">
           <img src="" alt="">
           <h3>WeShop</h3>
        </div>
        <div class="item">
          <li><a class="dashboard" href="./admin_page.html">Dashboard</a></li>
          <li></i><a href="./total_item.html">Total Item</a></li>
          <li></i><a href="./user.html">Total User</a></li>
          <li></i><a href="./new_product.html">Add New Product</a></li>
          <li><a href="#">Order Detail</a></li>
          <li><a href="#">Devilered Product</a></li>
          <li><a href="#">User Management</a></li>
       

        </div>

    </section>

    <section id="interface">

        <div class="add-product">
            
            <input id="product-name" type="text" placeholder="Product Name">
            <input id="product-price" type="text" placeholder="Product price">
            <input id="img" type="text" placeholder="Product image">
            <button id="btn">Submit</button>

        </div>

        <div id="new-product-list">
            <h1>New Added Product</h1>
        </div>

        <div id="product-section">


        </div>
    
 


    </section>
    
</body>
</html>

<script>


    let submit = document.getElementById("btn")
    let mainSection = document.getElementById("product-section")
    let lsData = JSON.parse(localStorage.getItem("newProduct")) ||[]

    let productName = document.getElementById("product-name")
    let productPrice = document.getElementById("product-price")
    let productImg = document.getElementById("img")


    submit.addEventListener("click",()=>{

        let productObj = {
            name : productName.value,
            price : productPrice.value,
            Image : productImg.value
        }

        console.log(productObj)
        lsData.push(productObj)
        localStorage.setItem("newProduct",JSON.stringify(lsData))
        console.log(lsData)
        displayData(lsData)



    })


    function displayData(data){
        renderCardList(data)
        console.log(data)

    }


    function renderCardList(cardData){

        mainSection.innerHTML = `

        <div class = "cardList">
        ${cardData.map((ele)=>{
            
            let image = ele.Image
            let name = ele.name
            let price = ele.price
            
            return getAsCard(image, name, price)
            }).join("")
        }        
        </div

        `
    }


    function getAsCard(image, name, price){
        return `

        <div class = "card">
            <div class = "card-img">
                <img src = ${image} />
            </div> 
            <div class = "card-body">
                <h3>${name}</h3> 
                <h4>${price}</h4> 
                <button>Remove</button>
            </div>          
        </div>
        
        `
    }

    
</script>

