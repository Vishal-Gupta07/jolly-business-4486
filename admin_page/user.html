<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User</title>
    <script src="https://kit.fontawesome.com/4ca93ca64a.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="./admin.css">

</head>
<body>
   

    <section id="menu">

        <div class="logo">
           <img src="" alt="">
           <h3>WeShop</h3>
        </div>
        <div class="item">
            <li><a class="dashboard" href="./admin_page.html">Dashboard</a></li>
            <li></i><a href="./total_item.html">Our Product</a></li>
            <li></i><a href="./user.html">Total User</a></li>
            <li></i><a href="./new_product.html">Add New Product</a></li>
            <li><a href="../ProductList/cart.html">Order Detail</a></li>
            <li><a href="#">Devilered Product</a></li>
            <li><a href="../index.html">Go to Home Page</a></li>
          </div>

    </section>

    <section id="interface">


        <div class="board">
            
            <table>
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Address</th>
                        <th>Id</th>
                    </tr>
                </thead>
        

                <tbody id="user-detail">
                    <!-- <tr>
                        <td class="person">
                            <img src="https://cdn.pixabay.com/photo/2015/01/08/18/29/entrepreneur-593358__340.jpg" alt="">
                            <div class="people-detail">
                                <h4>Neeraj</h4>
                            </div>

                        </td>
                        <td class="status pad">Active</td>
                        <td class="mail pad">abc@gmail.com</td>
                        <td class="age pad">23</td>

                    </tr> -->
                </tbody>

            </table>

        </div>
    </section>
  

</body>
</html>

<script>


const userFetchURL = "https://project-database-h3eo.vercel.app/userDetail"
const mainSection = document.querySelector("#user-detail")


window.addEventListener("load",()=>{
      fetchUserData()
})


async function fetchUserData(){

    try {
        let resolve = await fetch(userFetchURL,{
            method : "GET",
            headers : {
                "Content-Type" : "application/json"
            },

        })
        let data = await resolve.json()
        console.log(data)
        renderData(data)

    } catch (error) {
        alert("Something is wrong")
    }
}

// <div class = "card-list">
function renderData(data){
    mainSection.innerHTML = `
    
     
        ${data.map((ele)=>{

            let name = ele.name
            let email = ele.email
            let image = ele.image
            let address = ele.address
            let id = ele.id

            return getAsCard(name, email, address, image, id)
          }).join("")
        }
     
    `
}
// </div>

function getAsCard(name, email, address, image, id){
    return `

    <div class = "card">

       
            <tr>
                 <td class="person">
                     <img src="${image}" alt="">
                 <div class="people-detail">
                    <h4>${name}</h4>
                 </div>

                </td>
                <td class="mail pad">${email}</td>
                <td class="status pad">${address}</td>
                <td class="age pad">${id}</td>

            </tr>
     

    </div>
    `
}



   

  
</script>